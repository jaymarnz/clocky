<!DOCTYPE html><html><head><title>Clocky: A night-aware clock</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.slim.min.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA==" crossorigin=anonymous referrerpolicy=no-referrer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/suncalc/1.9.0/suncalc.min.js integrity="sha512-F6rjAEKNMtM0aODcc/MdnAvhGxn7FCbAkKJ5FKba/fnD3gnN+LBEok326WAMdOhKQKYNr+j/tJEuV1PKwIfhCA==" crossorigin=anonymous referrerpolicy=no-referrer></script><style>@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap);*{font-family:Roboto,Verdana,Arial,Helvetica,sans-serif}body{background-color:#000;color:#fff;position:absolute;top:0;bottom:0;left:0;right:0}.clock{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:36vw;opacity:0}.day{opacity:1}.night{opacity:.15}.error{width:100%;position:fixed;bottom:1em;color:red;font-size:140%;font-weight:700;text-align:center}</style><script>const config={position:{latitude:-35.261833,longitude:174.121465},daytime:{start:"dawn",end:"dusk"}}</script><script>function showError(t){$(".error").each(function(){$(this).html(t)}),$(".error").show(),setTimeout(()=>{$(".error").hide()},5e3)}function run(t){updateTime(t),setInterval(()=>updateTime(t),1e3)}function updateTime(t){const e=new Date;let o=!0;t.latitude&&t.longitude&&(t=SunCalc.getTimes(e,t.latitude,t.longitude),o=e.getTime()>t[config.daytime.start].getTime()&&e.getTime()<t[config.daytime.end].getTime()),o?$(".clock").removeClass("night").addClass("day"):$(".clock").removeClass("day").addClass("night"),$(".clock").each(function(){$(this).html(e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0"))})}$(document).ready(()=>{navigator.geolocation.getCurrentPosition(t=>run(t.coords),t=>{showError(t.message+"<br>Default position in use"),run(config.position)})})</script></head><body><div class=clock></div><div class=error></div></body></html>